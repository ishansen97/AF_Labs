<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS Blog stuff</title>
</head>
<body>
    <script type="text/javascript">
        /*
        * Exercise 1
        * */

        var vehicleName = 'Toyota';
        function printVehicleNameOuter() {
            console.log(this.vehicleName);
        }

        console.log(this);
        printVehicleNameOuter();

        // var vehicle = {
        //     vehicleName: 'Nissan',
        //     printVehicleNameInner: printVehicleNameOuter
        // };
        var vehicle = {
            vehicleName: 'Nissan',
            printVehicleNameInner: function () {
                return function () {
                    console.log(this.vehicleName);
                }
            }
        };
        var execute = vehicle.printVehicleNameInner().bind(vehicle);
        execute();

        /*
        * Exercise 2
        * */

        function taxCalculator(tax) {
            var taxPercentage = tax;
            return function (amount) {
                return amount * tax / 100
            }
        }

        var calculator = taxCalculator(10);
        console.log(calculator(90));

        /*
        * Exercise 3
        * */

        //1st method
        function fetchAPIUsers(url) {
            fetch(url)
                .then(response => response.json())
                .then(json => console.log(json));

        }

        fetchAPIUsers('https://api.github.com/users');

        //2nd method

        function fetchUsers(url) {
            return fetch(url)
                .then(response => response.json());
        }

        fetchUsers('https://api.github.com/users').then(function (json) {
           console.log(json);

        });

        /*
        * Exercise 4
        * */
        //creating a function called 'Vehicle'
        function Vehicle(type) {
            Vehicle.VehicleCount++;     //keep incrementing when a new Vehicle object is created
            this.type = type;
        }

        Vehicle.VehicleCount = 0;       //declaring a variable to keep the count of Vehicle type objects
        Vehicle.prototype.drive = function () {         //adding a new function to the Vehicle type using prototype
            console.log('Vehicle is driving'); };

        var vehicle = new Vehicle('Toyota');            //creating a vehicle object using 'new' keyword

        //creating a new function called Car
        function Car(type) {
            Vehicle.call(this, type);                   //calling the constructor of the parent class
        }


        Car.prototype = Object.create(Vehicle.prototype);   //Creating a copy of the Vehicle prototype and assigning it to the Car prototype
        Car.prototype.constructor = Car;                    //constructor of the Car prototype should be of Car type

        Car.prototype.balanceWheels = function () {         //adding a new function to the Car type
            console.log('Wheels are balanced');
        };

        var car = new Car('Nissan');                    //creating a new Car object
        car.drive();

        car.balanceWheels();
        console.log(car.type);
        console.log("Number of Vehicle Objects : " + Vehicle.VehicleCount);


        /*
        * Exercise 7
        * */

        async function fetchUsersAsync() {
            const response = await fetch('https://api.github.com/users');
            const json = await response.json();
            console.log(json);
        }

        fetchUsersAsync();

        /*
        * Exercise 8
        * */

        class Vehicle {
            constructor(type) {
                Vehicle.VehicleCount++;
                this.type = type;
            }

            drive() {
                console.log('Vehicle is driving');
            }
        }

        Vehicle.VehicleCount = 0; 
        const vehicle = new Vehicle('Toyota');
        vehicle.drive();
        console.log(Vehicle.VehicleCount);

        class Car extends Vehicle {
            constructor(type) {
                super(type);
            }
            balanceWheels() {
                console.log('Wheels are balanced');
            }
        }

        const car = new Car('Nissan');
        car.drive();
        car.balanceWheels();
        console.log(Vehicle.VehicleCount);


    </script>
</body>
</html>